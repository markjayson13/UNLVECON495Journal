{% assign has_required_fields = page.title and page.pdf and page.authors and page.authors.size > 0 %}
{% if has_required_fields %}
  <meta name="citation_title" content="{{ page.title | escape }}">
  {% for author in page.authors %}
    <meta name="citation_author" content="{{ author | escape }}">
  {% endfor %}
  {% if page.publication_date %}
    <meta name="citation_publication_date" content="{{ page.publication_date }}">
  {% elsif page.year %}
    <meta name="citation_publication_date" content="{{ page.year }}">
  {% endif %}
  <meta name="citation_pdf_url" content="{{ page.pdf | relative_url | absolute_url }}">
  {% if page.abstract %}
    <meta name="citation_abstract" content="{{ page.abstract | strip_newlines | escape }}">
  {% endif %}
  {% if page.keywords %}
    {% assign kws = page.keywords %}
    {% if kws.first %}
      {% assign keywords_joined = kws | join: ', ' %}
    {% else %}
      {% assign keywords_joined = kws %}
    {% endif %}
    <meta name="citation_keywords" content="{{ keywords_joined | escape }}">
  {% endif %}
{% endif %}
